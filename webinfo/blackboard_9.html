<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <meta
            name="description"
            content="Веб-платформа для обучения и проведения занятий. Курсы по программированию, моделированию, проектированию, разработке сайтов, игр и мобильных приложений; автоэлектрике и работе со станками ЧПУ. Подготовка к ОГЭ. Подготовка к ЕГЭ."
        />
        <link rel="stylesheet" href="./CSS/css.css" />
        <link rel="stylesheet" href="CSS/blackboard.css" />
        <meta
            http-equiv="Cache-Control"
            content="no-cache, no-store, must-revalidate"
        />
        <meta http-equiv="Pragma" content="no-cache" />
        <meta http-equiv="Expires" content="0" />
        <title>Blackboard</title>
        <style></style>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script>
            if (!document.__defineGetter__) {
                Object.defineProperty(document, "cookie", {
                    get: function () {
                        return "";
                    },
                    set: function () {
                        return true;
                    },
                });
            } else {
                document.__defineGetter__("cookie", function () {
                    return "";
                });
                document.__defineSetter__("cookie", function () {});
            }

            function a() {
                $.get({ cache: false, url: "blackboard2.txt" }).then(function (
                    data
                ) {
                    document.querySelector(".lines").innerHTML = "";
                    document.querySelector(".text").innerHTML = data;
                    var count =
                        data.match(/\n/g) != null
                            ? data.match(/\n/g).length
                            : 1;
                    for (let i = 1; i <= count + 1; i++) {
                        document.querySelector(
                            ".lines"
                        ).innerHTML += `<h1>${i}</h1>`;
                    }
                    imageObj.src =
                        "/webinfo/blackboard2.png?r=" + new Date().getTime();

                    imageObj.onload = function () {
                        canvas.height = canvas.clientHeight;
                        canvas.width = canvas.clientWidth;
                        console.log(imageObj.src);
                        context.drawImage(imageObj, 0, 0);
                    };
                });
                setTimeout(a, 1000);
            }

            a();

            function b() {
                window.location.href = "/webinfo/";
            }
        </script>
    </head>
    <body>
        <!-- <h3>ДОСКА</h3> -->
        <!-- <div class="header">
            <img src="./assets/android_logo.png" alt="" srcset="" />
            <button class="home" onclick="b()">Домой</button>
        </div> -->

        <div class="textbody">
            <canvas class="back"></canvas>
            <div class="content">
                <div class="lines"><h1>1</h1></div>
                <h1 class="text"></h1>
            </div>
        </div>
        <pre></pre>
        <script>
            const canvas = document.querySelector(".back");
            const context = canvas.getContext("2d");
            var imageObj = new Image();
        </script>
    </body>
</html>
