<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Главная страница</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Philosopher&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="./css/index.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
    <script>
      var data;
      var html = "";

      yearmap = {
        800: 0,
        900: 2,
        1000: 7,
        1100: 19,
        1200: 24,
        1300: 28,
        1400: 34,
        1500: 45,
        1600: 52,
        1700: 64,
        1800: 72,
        1900: 77,
      };

      $.getJSON("./temp.json", function (json) {
        data = json["base_info"];
        data.forEach((element) => {
          html = html.concat(
            `<div class="scroll_element" id="elem${data.indexOf(
              element
            )}"><a onclick="textPage(${data.indexOf(
              element
            )})"><img id="oleg" src="${element["image"]}"><h2>${
              element["description"]
            }</h2></a></div>`
          );
        });
        //${element["date"]}

        document.getElementsByClassName("main").item(0).innerHTML = html;
      });

      function textPage(d) {
        localStorage.setItem("scrollPos", d);
        window.location.href = "text_page.html?data=" + d;
      }

      scroll();

      function scroll() {
        setTimeout(function () {
          document
            .getElementById("elem" + localStorage.getItem("scrollPos"))
            .scrollIntoView();
        }, 100);
      }

      function clickYear(year) {
        localStorage.setItem("scrollPos", yearmap[year]);
        scroll();
      }

      function schoolPage() {
        window.location.href = "school_page.html";
      }
    </script>
    <style>
      #Business_card {
        text-decoration: none;
        /* position: fixed;
            top: 0;
            left: 0; */
        color: antiquewhite;
        font-size: 10vh;
      }
      @media (max-width: 500px) {
        #Business_card {
          font-size: 4vh;
        }
      }
    </style>
  </head>
  <body>
    <a id="Business_card" href="./Business_card/index.html">Визитка</a>

    <img id="emblem" src="./img/emblems/Main_img.png" alt="" /><br />

    <div>
      <button id="sch_btn" onclick="schoolPage()">История школы</button>
    </div>
    <div class="slider">
      <button id="yr_btn" onclick="clickYear(800)">800</button>
      <button id="yr_btn" onclick="clickYear(900)">900</button>
      <button id="yr_btn" onclick="clickYear(1000)">1000</button>
      <button id="yr_btn" onclick="clickYear(1100)">1100</button>
      <button id="yr_btn" onclick="clickYear(1200)">1200</button>
      <button id="yr_btn" onclick="clickYear(1300)">1300</button>
      <button id="yr_btn" onclick="clickYear(1400)">1400</button>
      <button id="yr_btn" onclick="clickYear(1500)">1500</button>
      <button id="yr_btn" onclick="clickYear(1600)">1600</button>
      <button id="yr_btn" onclick="clickYear(1700)">1700</button>
      <button id="yr_btn" onclick="clickYear(1800)">1800</button>
      <button id="yr_btn" onclick="clickYear(1900)">1900</button>
    </div>
    <div class="main"></div>
  </body>
</html>
